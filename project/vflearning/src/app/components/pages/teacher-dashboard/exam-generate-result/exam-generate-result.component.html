<h1 class="assigned-exam-title">Exam Result</h1>


<div *ngIf="message" class="modal-overlay">
  <div class="modal-container">
    <div class="modal-header">
      <h3 class="modal-title">Error</h3>
      <button class="modal-close-button" (click)="message = ''">Close</button>
    </div>
    <div class="modal-body">
      <p>{{ message }}</p>
    </div>
  </div>
</div>
<!-- Loading Indicator -->
<div *ngIf="loading" class="loading-overlay">
  <div class="spinner"></div>
  <p>Please wait.... Result is Generating</p>
</div>
<button class="action-button" (click)="publishResult()">Publish Result</button>
<!-- Table -->
<table id="examResultsTable" class="assigned-exam-table display" *ngIf="!loading">
  <thead>
    <tr>
      <th>Sr.No.</th>
      <th>Student Name</th>
      <th>Enroll ID</th>
      <th>Total Questions</th>
      <th>Attempted Questions</th>
      <th>Total Marks</th>
      <th>Marks Obtained</th>
      <th>Percentage</th>
      <th>Rank</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let stdlist of studentResponseList; let i = index">
      <td>{{i + 1}}</td>
      <td>{{stdlist.user.name}}</td>
      <td>{{stdlist.user.enrollmentId}}</td>
      <td>{{stdlist.result.totalQuestions}}</td>
      <td>{{stdlist.result.attemptedQuestions}}</td>
      <td>{{stdlist.result.totalMarks}}</td>
      <td>{{stdlist.result.obtainedMarks}}</td>
      <td>{{stdlist.result.percentage}}</td>
      <td>{{stdlist.rank}}</td>
      <td>
        <button class="action-button" (click)="showresponse(stdlist.user.id)">Show Response</button>
      </td>
    </tr>
  </tbody>
</table>

