<div class="container">
    <div class="card">
        <div class="card-header">
            <h2>Create Exam</h2>
        </div>
        <div class="card-body">
            <form [formGroup]="examForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label for="examName">Exam Name:</label>
                    <input id="examName" formControlName="examName" type="text" class="form-control" />
                    <div *ngIf="examForm.get('examName')?.invalid && examForm.get('examName')?.touched" class="error">
                        Exam name is required.
                    </div>
                </div>

                <div class="form-group">
                    <label for="examDate">Exam Date:</label>
                    <input 
                        id="examDate" 
                        formControlName="examDate" 
                        type="date" 
                        class="form-control" 
                        [attr.min]="minDate" 
                    />
                    <div *ngIf="examForm.get('examDate')?.invalid && examForm.get('examDate')?.touched" class="error">
                        Exam date is required.
                    </div>
                </div>

                <div class="form-group">
                    <label for="examTime">Exam Time:</label>
                    <input id="examTime" formControlName="examTime" type="time" class="form-control" />
                    <div *ngIf="examForm.get('examTime')?.invalid && examForm.get('examTime')?.touched" class="error">
                        Exam time is required.
                    </div>
                </div>

                <div class="form-group">
                    <label for="examDuration">Exam Duration (minutes):</label>
                    <input id="examDuration" formControlName="examDuration" type="number" class="form-control" />
                    <div *ngIf="examForm.get('examDuration')?.invalid && examForm.get('examDuration')?.touched" class="error">
                        Exam duration is required and must be a positive number.
                    </div>
                </div>

                <div class="form-group">
                    <label for="examDescription">Exam Description:</label>
                    <textarea id="examDescription" formControlName="examDescription" class="form-control"></textarea>
                    <div *ngIf="examForm.get('examDescription')?.invalid && examForm.get('examDescription')?.touched" class="error">
                        Exam description is required.
                    </div>
                </div>

                <div class="form-group">
                    <label for="difficultyLevel">Difficulty Level:</label>
                    <select id="difficultyLevel" formControlName="difficultyLevel" class="form-control">
                        <option *ngFor="let level of difficultyLevels" [value]="level">{{ level }}</option>
                    </select>
                    <div *ngIf="examForm.get('difficultyLevel')?.invalid && examForm.get('difficultyLevel')?.touched" class="error">
                        Difficulty level is required.
                    </div>
                </div>

                <div class="form-group">
                    <label>Negative Marking:</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" formControlName="negativeMarking" [value]="true" class="radio-input" />
                            Yes
                        </label>
                        <label class="radio-label">
                            <input type="radio" formControlName="negativeMarking" [value]="false" class="radio-input" />
                            No
                        </label>
                    </div>
                    <div *ngIf="examForm.get('negativeMarking')?.value === true">
                        <label for="negativeMarks">Negative Marks:</label>
                        <input id="negativeMarks" formControlName="negativeMarks" type="number" class="form-control" />
                        <div *ngIf="examForm.get('negativeMarks')?.invalid && examForm.get('negativeMarks')?.touched" class="error">
                            Negative marks must be a positive number.
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="examType">Exam Type:</label>
                    <select id="examType" formControlName="examType" class="form-control">
                        <option *ngFor="let type of examTypes" [value]="type">{{ type }}</option>
                    </select>
                    <div *ngIf="examForm.get('examType')?.invalid && examForm.get('examType')?.touched" class="error">
                        Exam type is required.
                    </div>
                </div>

                <div class="form-group">
                    <label>Capture Screen During Exam:</label>
                    <div class="radio-group">
                        <label class="radio-container">
                            Yes
                            <input type="radio" formControlName="captureScreenDuringExam" value="true" class="radio-input" />
                            <span class="radio-custom"></span>
                        </label>
                        <label class="radio-container">
                            No
                            <input type="radio" formControlName="captureScreenDuringExam" value="false" class="radio-input" />
                            <span class="radio-custom"></span>
                        </label>
                    </div>
                    <div *ngIf="examForm.get('captureScreenDuringExam')?.value === 'true'">
                        <label for="screenCaptureInterval">Screen Capture Interval (seconds):</label>
                        <input id="screenCaptureInterval" formControlName="screenCaptureInterval" type="number" class="form-control" />
                        <div *ngIf="examForm.get('screenCaptureInterval')?.invalid && examForm.get('screenCaptureInterval')?.touched" class="error">
                            Capture interval must be a positive number.
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" [disabled]="examForm.invalid">Create Exam</button>
            </form>
        </div>
</div>
